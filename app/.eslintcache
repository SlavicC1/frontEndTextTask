[{"C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\index.js":"1","C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\tableElement.js":"2","C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\tableHeader.js":"3","C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\navigation.js":"4","C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\description.js":"5","C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\dataSizeChooser.js":"6","C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\app.js":"7","C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\table.js":"8","C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\search.js":"9","C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\addElement.js":"10"},{"size":595,"mtime":1609278435791,"results":"11","hashOfConfig":"12"},{"size":509,"mtime":1609278538059,"results":"13","hashOfConfig":"12"},{"size":814,"mtime":1609109512834,"results":"14","hashOfConfig":"12"},{"size":1792,"mtime":1609280442641,"results":"15","hashOfConfig":"12"},{"size":1610,"mtime":1609278510213,"results":"16","hashOfConfig":"12"},{"size":1857,"mtime":1609278624345,"results":"17","hashOfConfig":"12"},{"size":7817,"mtime":1609224784408,"results":"18","hashOfConfig":"12"},{"size":1124,"mtime":1609279431940,"results":"19","hashOfConfig":"12"},{"size":328,"mtime":1609276917988,"results":"20","hashOfConfig":"12"},{"size":3761,"mtime":1609278927754,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1yxmy7y",{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\index.js",[],"C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\tableElement.js",[],"C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\tableHeader.js",[],["44","45"],"C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\navigation.js",[],"C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\description.js",[],"C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\dataSizeChooser.js",[],"C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\app.js",["46","47"],"import React, {Component} from 'react';\r\nimport Search from './search';\r\nimport Navigation from './navigation';\r\nimport Description from './description';\r\nimport DataSizeChooser from './dataSizeChooser';\r\nimport Table from \"./table\";\r\nimport AddElement from \"./addElement\";\r\n\r\nclass App extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            dataIsLoading: false,\r\n            data: props.data,\r\n            searchPhrase: \"\",\r\n            currentPageNomber: 1,\r\n            choosenElement: null\r\n        };\r\n        this.ELEMENTSONPAGE = 50;\r\n        this.loadAnimation = \"Loading\";\r\n    }\r\n\r\n    render(){\r\n        if(this.state.dataIsLoading){\r\n            return(\r\n                <div>\r\n                    <header className=\"header\">\r\n                        <DataSizeChooser onClick={this.loadNewData.bind(this)}/>\r\n                        <Search onClick={this.setSearchPhrase.bind(this)}/>\r\n                    </header>\r\n                    <main className=\"main\">\r\n                        <p>{this.loadAnimation}</p>\r\n                    </main>\r\n                    <footer className=\"footer\">\r\n                        <Navigation currentPageNomber={this.state.currentPageNomber} \r\n                            lastPageNomber={Math.ceil(this.filtredData(this.state.data).length/this.ELEMENTSONPAGE)} \r\n                            onClick={this.changeCurrentPageNomber.bind(this)}/>\r\n                        <Description data={this.state.choosenElement}/>\r\n                    </footer>\r\n                </div>\r\n            );\r\n        } else{\r\n            return(\r\n                <div>\r\n                    <header className=\"header\">\r\n                        <DataSizeChooser onClick={this.loadNewData.bind(this)}/>\r\n                        <AddElement addNewElement={this.addElement.bind(this)}/>\r\n                        <Search onClick={this.setSearchPhrase.bind(this)}/>\r\n                    </header>\r\n                    <main className=\"main\">\r\n                        <Table data={this.dataOnCurrentPage(this.filtredData(this.state.data))} \r\n                            choosenElement={this.state.choosenElement}\r\n                            onHeaderClick={this.sortData.bind(this)} onElementClick={this.showElementDescription.bind(this)}/>\r\n                    </main>\r\n                    <footer className=\"footer\">\r\n                        <Navigation currentPageNomber={this.state.currentPageNomber} \r\n                            lastPageNomber={Math.ceil(this.filtredData(this.state.data).length/this.ELEMENTSONPAGE)} \r\n                            onClick={this.changeCurrentPageNomber.bind(this)}/>\r\n                        <Description data={this.state.choosenElement}/>\r\n                    </footer>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    filtredData(){\r\n        return this.state.data.filter(el => {\r\n            return this.deepSeach(el, this.state.searchPhrase);\r\n        });\r\n    }\r\n\r\n    deepSeach(el, subStr){\r\n        var res = false;\r\n        for(var key in el){\r\n            if(key === \"address\"){\r\n                res = res || this.deepSeach(el[key], subStr);\r\n            } else{\r\n                res = res || el[key].toString().search(subStr)+1;\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n\r\n    dataOnCurrentPage(elements){\r\n        return elements.slice((this.state.currentPageNomber - 1)*this.ELEMENTSONPAGE,\r\n            this.state.currentPageNomber*this.ELEMENTSONPAGE);\r\n    }\r\n\r\n    changeCurrentPageNomber(newCurrentPageNomber){\r\n        return (function(e){\r\n            this.setState({\r\n                dataIsLoading: this.state.dataIsLoading,\r\n                data: this.state.data,\r\n                filterPhrase: this.state.filterPhrase,\r\n                currentPageNomber: newCurrentPageNomber,\r\n                choosenElement: this.state.choosenElement\r\n            });\r\n        }).bind(this);\r\n    }\r\n\r\n    setSearchPhrase(itself){\r\n        return function(e){\r\n            this.state.searchPhrase = e.target.parentElement.getElementsByTagName(\"INPUT\")[0].value;\r\n            this.state.currentPageNomber = Math.ceil(this.filtredData(this.state.data).length/this.ELEMENTSONPAGE);\r\n            this.setState({\r\n                dataIsLoading: this.dataIsLoading,\r\n                data: this.state.data,\r\n                searchPhrase: e.target.parentElement.getElementsByTagName(\"INPUT\")[0].value,\r\n                currentPageNomber: this.state.currentPageNomber,\r\n                choosenElement: this.state.choosenElement\r\n            });\r\n        }.bind(this);\r\n    }\r\n\r\n    sortData(itself){\r\n        return function(e){\r\n            var newState = itself.state;\r\n            for(let key in newState){\r\n                if(e.target.id === key){\r\n                    if(itself.state[key] === \"\\u25b2 \" + key){\r\n                        newState[key] = \"\\u25bc \" + key;\r\n                        this.state.data.sort((a,b) => {\r\n                            if(a[e.target.id] > b[e.target.id]) return 1;\r\n                            if(a[e.target.id] === b[e.target.id]) return 0;\r\n                            if(a[e.target.id] < b[e.target.id]) return -1;\r\n                            return 0;\r\n                        });\r\n                    } else{\r\n                        newState[key] = \"\\u25b2 \" + key;\r\n                        this.state.data.sort((a,b) => {\r\n                            if(a[e.target.id] < b[e.target.id]) return 1;\r\n                            if(a[e.target.id] === b[e.target.id]) return 0;\r\n                            if(a[e.target.id] > b[e.target.id]) return -1;\r\n                            return 0;\r\n                        });\r\n                    }\r\n                } else{\r\n                    newState[key] = \"\\u25ae \" + key;\r\n                }\r\n            }\r\n            itself.setState(newState);\r\n            this.setState(this.state);\r\n        }.bind(this);\r\n    }\r\n\r\n    showElementDescription(itself){\r\n        return function(e){\r\n            this.setState({\r\n                dataIsLoading: this.state.dataIsLoading,\r\n                data: this.state.data,\r\n                searchPhrase: this.state.searchPhrase,\r\n                currentPageNomber: this.state.currentPageNomber,\r\n                choosenElement: itself.props.data\r\n            });\r\n        }.bind(this);\r\n    }\r\n\r\n    addElement(el){\r\n        this.state.data.unshift(el);\r\n        this.setState(this.state);\r\n    }\r\n\r\n    loadNewData(itself, url){\r\n        return function(e){\r\n            this.setState({\r\n                dataIsLoading: true,\r\n                data: [],\r\n                searchPhrase: this.state.searchPhrase,\r\n                currentPageNomber: 1,\r\n                choosenElement: null\r\n            });\r\n            this.loading();\r\n            fetch(url).then(\r\n                response => { \r\n                    return response.json();\r\n                })\r\n            .then( data => {\r\n                this.setState({\r\n                    dataIsLoading: false,\r\n                    data: data,\r\n                    searchPhrase: this.state.searchPhrase,\r\n                    currentPageNomber: 1,\r\n                    choosenElement: null\r\n                });\r\n            });\r\n        }.bind(this);\r\n    }\r\n\r\n    loading(){\r\n        return setTimeout(function(){\r\n            if(this.state.dataIsLoading){\r\n                if(this.loadAnimation.length < 10){\r\n                    this.loadAnimation = this.loadAnimation + \".\"\r\n                } else{\r\n                    this.loadAnimation = \"Loading\";\r\n                }\r\n                this.loading();\r\n            } else{\r\n                this.loadAnimation = \"Loading\";\r\n            }\r\n            this.setState(this.state);\r\n        }.bind(this), 100);\r\n    }\r\n}\r\n\r\nexport default App;","C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\table.js",[],"C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\search.js",[],"C:\\Users\\vshin\\Desktop\\всё\\Вёрстка\\frontEndTextTask\\app\\src\\components\\addElement.js",[],{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","severity":1,"message":"53","line":103,"column":13,"nodeType":"54","endLine":103,"endColumn":23},{"ruleId":"52","severity":1,"message":"53","line":104,"column":13,"nodeType":"54","endLine":104,"endColumn":23},"no-native-reassign",["55"],"no-negated-in-lhs",["56"],"react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression","no-global-assign","no-unsafe-negation"]